{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CartComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"p\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 7)(12, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_div_0_div_1_Template_input_ngModelChange_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r3.quantity = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_0_div_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.updateItem(item_r3));\n    });\n    i0.ɵɵtext(14, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_0_div_1_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.deleteItem(item_r3.itemId));\n    });\n    i0.ɵɵtext(16, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: $\", item_r3.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantity: \", item_r3.quantity, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total Price: \", item_r3.quantity * item_r3.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", item_r3.quantity);\n  }\n}\nfunction CartComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CartComponent_div_0_div_1_Template, 17, 5, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4)(3, \"p\")(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.cartItems);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Total: \", ctx_r0.total, \" \");\n  }\n}\nfunction CartComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"Your cart is empty.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class CartComponent {\n  constructor(cartService, router) {\n    this.cartService = cartService;\n    this.router = router;\n    this.cartItems = [];\n    this.total = 0;\n  }\n  ngOnInit() {\n    this.loadCartItems();\n  }\n  loadCartItems() {\n    this.cartService.getCartItems().subscribe(cartItems => {\n      this.cartItems = cartItems;\n      this.total = this.cartItems.reduce((total, cartItem) => total + cartItem.price, 0);\n    });\n  }\n  updateItem(updatedItem) {\n    this.cartService.updateCartItem(updatedItem.id, updatedItem).subscribe(() => {\n      // Reload cart items after update\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n    });\n  }\n  deleteItem(itemId) {\n    this.cartService.deleteCartItem(itemId).subscribe(() => {\n      // Reload cart items after delete\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n      //this.router.navigate(['/']); \n    });\n  }\n\n  continueShopping() {\n    this.router.navigate(['/']);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [1, \"navigation\"], [3, \"click\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"Total\"], [1, \"cart-item\"], [1, \"item-details\"], [1, \"item-actions\"], [\"type\", \"number\", 1, \"quantity-input\", 3, \"ngModel\", \"ngModelChange\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartComponent_div_0_Template, 6, 2, \"div\", 0);\n      i0.ɵɵtemplate(1, CartComponent_div_1_Template, 3, 0, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_3_listener() {\n        return ctx.continueShopping();\n      });\n      i0.ɵɵtext(4, \"Continue Shopping\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length == 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IACEA,8BAAsD;IAEvCA,YAAe;IAAAA,iBAAS;IACnCA,yBAAG;IAAAA,YAAwB;IAAAA,iBAAI;IAC/BA,yBAAG;IAAAA,YAA6B;IAAAA,iBAAI;IACpCA,yBAAG;IAAAA,aAA6C;IAAAA,iBAAI;IAEtDA,+BAA0B;IACHA;MAAA;MAAA;MAAA,OAAaA,yCAAqB;IAAA,EAAP;IAAhDA,iBAA0E;IAC1EA,kCAAmC;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAClDA,kCAA0C;IAAlCA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAuB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IAR9CA,eAAe;IAAfA,kCAAe;IACvBA,eAAwB;IAAxBA,oDAAwB;IACxBA,eAA6B;IAA7BA,yDAA6B;IAC7BA,eAA6C;IAA7CA,4EAA6C;IAG3BA,eAA2B;IAA3BA,0CAA2B;;;;;IATtDA,2BAAkC;IAChCA,qEAaM;IACNA,8BAAmB;IACNA,YAAiB;IAAAA,iBAAS;;;;IAfjBA,eAAY;IAAZA,0CAAY;IAerBA,eAAiB;IAAjBA,mDAAiB;;;;;IAGhCA,2BAAmC;IAC9BA,mCAAmB;IAAAA,iBAAI;;;ACT5B,OAAM,MAAOC,aAAa;EAIxBC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAH5D,cAAS,GAAU,EAAE;IAErB,UAAK,GAAW,CAAC;EACuD;EAExEC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAIAA,aAAa;IACX,IAAI,CAACH,WAAW,CAACI,YAAY,EAAE,CAACC,SAAS,CAACC,SAAS,IAAG;MACpD,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACC,KAAK,GAAG,IAAI,CAACD,SAAS,CAACE,MAAM,CAAC,CAACD,KAAK,EAAEE,QAAQ,KAAKF,KAAK,GAAGE,QAAQ,CAACC,KAAK,EAAE,CAAC,CAAC;IACpF,CAAC,CAAC;EACJ;EAEAC,UAAU,CAACC,WAAqB;IAG9B,IAAI,CAACZ,WAAW,CAACa,cAAc,CAACD,WAAW,CAACE,EAAE,EAAEF,WAAW,CAAC,CAACP,SAAS,CAAC,MAAK;MAC1E;MACA,IAAI,CAACF,aAAa,EAAE;MACpB,IAAI,CAACH,WAAW,CAACe,gBAAgB,CAACC,IAAI,EAAE;IAC1C,CAAC,CAAC;EACJ;EAEAC,UAAU,CAACC,MAAc;IACvB,IAAI,CAAClB,WAAW,CAACmB,cAAc,CAACD,MAAM,CAAC,CAACb,SAAS,CAAC,MAAK;MACrD;MACA,IAAI,CAACF,aAAa,EAAE;MACpB,IAAI,CAACH,WAAW,CAACe,gBAAgB,CAACC,IAAI,EAAE;MACxC;IACF,CAAC,CAAC;EACJ;;EACAI,gBAAgB;IACd,IAAI,CAACnB,MAAM,CAACoB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;;AAvCWvB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX1B7B,8DAkBM;MACNA,8DAEM;MACJA,8BAAwB;MACdA;QAAA,OAAS8B,sBAAkB;MAAA,EAAC;MAAC9B,iCAAiB;MAAAA,iBAAS;;;MAvB7DA,+CAA0B;MAmB1BA,eAA2B;MAA3BA,gDAA2B","names":["i0","CartComponent","constructor","cartService","router","ngOnInit","loadCartItems","getCartItems","subscribe","cartItems","total","reduce","cartItem","price","updateItem","updatedItem","updateCartItem","id","cartItemsChanged","emit","deleteItem","itemId","deleteCartItem","continueShopping","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\panch\\source\\repos\\ED.Api\\ED.Web\\ClientApp\\src\\app\\cart\\cart.component.html","C:\\Users\\panch\\source\\repos\\ED.Api\\ED.Web\\ClientApp\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["<div *ngIf=\"cartItems.length > 0\">\r\n  <div *ngFor=\"let item of cartItems\" class=\"cart-item\">\r\n    <div class=\"item-details\">\r\n      <p><strong>{{ item.name }}</strong></p>\r\n      <p>Price: ${{ item.price }}</p>\r\n      <p>Quantity: {{ item.quantity }}</p>\r\n      <p>Total Price: {{ item.quantity * item.price }}</p>\r\n    </div>\r\n    <div class=\"item-actions\">\r\n      <input type=\"number\" [(ngModel)]=\"item.quantity\" class=\"quantity-input\" />\r\n      <button (click)=\"updateItem(item)\">Update</button>\r\n      <button (click)=\"deleteItem(item.itemId)\">Delete</button>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"Total\">\r\n    <p><strong>Total: {{total}} </strong></p>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"cartItems.length == 0\">\r\n  <p>Your cart is empty.</p>\r\n</div>\r\n  <div class=\"navigation\">\r\n    <button (click)=\"continueShopping()\">Continue Shopping</button>\r\n  </div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\r\nimport { CartItem } from '../Models/CartItem';\r\nimport { Item } from '../Models/Item';\r\nimport { CartService } from '../Services/cart.service';\r\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n  cartItems: any[] = [];\n  item: Item | undefined;\n  total: number = 0;\n  constructor(private cartService: CartService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.loadCartItems();\n  }\n\n  \n\n  loadCartItems(): void {\n    this.cartService.getCartItems().subscribe(cartItems => {\n      this.cartItems = cartItems;\n      this.total = this.cartItems.reduce((total, cartItem) => total + cartItem.price, 0);\n    });\n  }\n\n  updateItem(updatedItem: CartItem): void {\n   \n\n    this.cartService.updateCartItem(updatedItem.id, updatedItem).subscribe(() => {\n      // Reload cart items after update\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n    });\n  }\n\n  deleteItem(itemId: number): void {\n    this.cartService.deleteCartItem(itemId).subscribe(() => {\n      // Reload cart items after delete\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n      //this.router.navigate(['/']); \n    });\n  }\n  continueShopping() {\n    this.router.navigate(['/']);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}