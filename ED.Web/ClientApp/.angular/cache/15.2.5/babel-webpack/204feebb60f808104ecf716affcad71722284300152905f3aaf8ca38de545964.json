{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CartComponent_p_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Your Cart is Empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 2);\n    i0.ɵɵelement(4, \"i\", 3);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CartComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"p\")(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 6)(12, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function CartComponent_div_1_Template_input_ngModelChange_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r2.quantity = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.updateItem(item_r2));\n    });\n    i0.ɵɵtext(14, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_1_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteItem(item_r2.id));\n    });\n    i0.ɵɵtext(16, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 9)(18, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_1_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.continueShopping());\n    });\n    i0.ɵɵtext(19, \"Continue Shopping\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: $\", item_r2.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantity: \", item_r2.quantity, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total Price: \", item_r2.quantity * item_r2.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", item_r2.quantity);\n  }\n}\nexport class CartComponent {\n  constructor(cartService, router) {\n    this.cartService = cartService;\n    this.router = router;\n    this.cartItems = [];\n  }\n  ngOnInit() {\n    this.loadCartItems();\n  }\n  loadCartItems() {\n    this.cartService.getCartItems().subscribe(cartItems => {\n      this.cartItems = cartItems;\n    });\n  }\n  updateItem(updatedItem) {\n    this.cartService.updateCartItem(updatedItem.id, updatedItem).subscribe(() => {\n      // Reload cart items after update\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n    });\n  }\n  deleteItem(itemId) {\n    this.cartService.deleteCartItem(itemId).subscribe(() => {\n      // Reload cart items after delete\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n      //this.router.navigate(['/']); \n    });\n  }\n\n  continueShopping() {\n    this.router.navigate(['/']);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"class\", \"cart-item\", 4, \"ngFor\", \"ngForOf\"], [2, \"font-size\", \"2em\"], [1, \"fas\", \"fa-shopping-cart\"], [1, \"cart-item\"], [1, \"item-details\"], [1, \"item-actions\"], [\"type\", \"number\", 1, \"quantity-input\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [1, \"navigation\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartComponent_p_0_Template, 5, 0, \"p\", 0);\n      i0.ɵɵtemplate(1, CartComponent_div_1_Template, 20, 5, \"div\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.cartItems);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAAAA,yBAAsB;IAChBA,kCAAkB;IAAAA,iBAAK;IAC3BA,+BAA8B;IAAAA,uBAAoC;IAAAA,iBAAO;;;;;;IAE3EA,8BAAsD;IAEvCA,YAAe;IAAAA,iBAAS;IACnCA,yBAAG;IAAAA,YAAwB;IAAAA,iBAAI;IAC/BA,yBAAG;IAAAA,YAA6B;IAAAA,iBAAI;IACpCA,yBAAG;IAAAA,aAA6C;IAAAA,iBAAI;IAEtDA,+BAA0B;IACHA;MAAA;MAAA;MAAA,OAAaA,yCAAqB;IAAA,EAAP;IAAhDA,iBAA0E;IAC1EA,kCAAmC;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAClDA,kCAAsC;IAA9BA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAmB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAEvDA,+BAAwB;IACdA;MAAAA;MAAA;MAAA,OAASA,wCAAkB;IAAA,EAAC;IAACA,kCAAiB;IAAAA,iBAAS;;;;IAXpDA,eAAe;IAAfA,kCAAe;IACvBA,eAAwB;IAAxBA,oDAAwB;IACxBA,eAA6B;IAA7BA,yDAA6B;IAC7BA,eAA6C;IAA7CA,4EAA6C;IAG3BA,eAA2B;IAA3BA,0CAA2B;;;ACDpD,OAAM,MAAOC,aAAa;EAGxBC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAF5D,cAAS,GAAU,EAAE;EAEmD;EAExEC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACH,WAAW,CAACI,YAAY,EAAE,CAACC,SAAS,CAACC,SAAS,IAAG;MACpD,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC,CAAC;EACJ;EAEAC,UAAU,CAACC,WAAqB;IAG9B,IAAI,CAACR,WAAW,CAACS,cAAc,CAACD,WAAW,CAACE,EAAE,EAAEF,WAAW,CAAC,CAACH,SAAS,CAAC,MAAK;MAC1E;MACA,IAAI,CAACF,aAAa,EAAE;MACpB,IAAI,CAACH,WAAW,CAACW,gBAAgB,CAACC,IAAI,EAAE;IAC1C,CAAC,CAAC;EACJ;EAEAC,UAAU,CAACC,MAAc;IACvB,IAAI,CAACd,WAAW,CAACe,cAAc,CAACD,MAAM,CAAC,CAACT,SAAS,CAAC,MAAK;MACrD;MACA,IAAI,CAACF,aAAa,EAAE;MACpB,IAAI,CAACH,WAAW,CAACW,gBAAgB,CAACC,IAAI,EAAE;MACxC;IACF,CAAC,CAAC;EACJ;;EACAI,gBAAgB;IACd,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;;AAnCWnB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX1BzB,0DAGI;MACJA,+DAeM;;;MAnBFA,qCAAgB;MAIEA,eAAY;MAAZA,uCAAY","names":["i0","CartComponent","constructor","cartService","router","ngOnInit","loadCartItems","getCartItems","subscribe","cartItems","updateItem","updatedItem","updateCartItem","id","cartItemsChanged","emit","deleteItem","itemId","deleteCartItem","continueShopping","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\panch\\source\\repos\\ED.Api\\ED.Web\\ClientApp\\src\\app\\cart\\cart.component.html","C:\\Users\\panch\\source\\repos\\ED.Api\\ED.Web\\ClientApp\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["<p *ngIf=\"!cartItems\">\r\n  <em>Your Cart is Empty</em>\r\n  <span style=\"font-size: 2em;\"><i class=\"fas fa-shopping-cart\"></i></span>\r\n</p>\r\n<div *ngFor=\"let item of cartItems\" class=\"cart-item\">\r\n  <div class=\"item-details\">\r\n    <p><strong>{{ item.name }}</strong></p>\r\n    <p>Price: ${{ item.price }}</p>\r\n    <p>Quantity: {{ item.quantity }}</p>\r\n    <p>Total Price: {{ item.quantity * item.price }}</p>\r\n  </div>\r\n  <div class=\"item-actions\">\r\n    <input type=\"number\" [(ngModel)]=\"item.quantity\" class=\"quantity-input\" />\r\n    <button (click)=\"updateItem(item)\">Update</button>\r\n    <button (click)=\"deleteItem(item.id)\">Delete</button>\r\n  </div>\r\n  <div class=\"navigation\">\r\n    <button (click)=\"continueShopping()\">Continue Shopping</button>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\r\nimport { CartItem } from '../Models/CartItem';\r\nimport { Item } from '../Models/Item';\r\nimport { CartService } from '../Services/cart.service';\r\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n  cartItems: any[] = [];\n   item: Item | undefined;\n  constructor(private cartService: CartService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.loadCartItems();\n  }\n\n  loadCartItems(): void {\n    this.cartService.getCartItems().subscribe(cartItems => {\n      this.cartItems = cartItems;\n    });\n  }\n\n  updateItem(updatedItem: CartItem): void {\n   \n\n    this.cartService.updateCartItem(updatedItem.id, updatedItem).subscribe(() => {\n      // Reload cart items after update\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n    });\n  }\n\n  deleteItem(itemId: number): void {\n    this.cartService.deleteCartItem(itemId).subscribe(() => {\n      // Reload cart items after delete\n      this.loadCartItems();\n      this.cartService.cartItemsChanged.emit();\n      //this.router.navigate(['/']); \n    });\n  }\n  continueShopping() {\n    this.router.navigate(['/']);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}